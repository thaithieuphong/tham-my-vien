<style>
	div.preview-images>img {
		width: 30%;
	}
</style>
<nav id="sub-nav-lg" class="navbar taskbar justify-content-between">
	<div class="title">

	</div>
	<h3 class="title text-light">phiếu dịch vụ</h3>
	{{> page/sidebar/operating-room/sidebar-doctor}}

	<div class="stask">
	</div>
</nav>
<div class="container">
	<div id="alert-message" class="alert alert-{{message.color}}" role="alert">
		{{message.content}}
	</div>
	<div class="shadow p-3 mb-5 bg-body rounded">
		<div class="row">

			<h5 class="text-uppercase text-center">
				<strong>Phiếu thực hiện</strong>
			</h5>
		</div>

		<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
			<li class="nav-item" role="presentation">
				<button class="nav-link active btn-light" id="pills-profile-customer-tab" data-bs-toggle="pill"
					data-bs-target="#pills-profile-customer" type="button" role="tab" aria-controls="pills-home"
					aria-selected="true">Thông tinh</button>
			</li>
			<li class="nav-item" role="presentation">
				<button class="nav-link  btn-light" id="pills-counselor-tab" data-bs-toggle="pill"
					data-bs-target="#pills-counselor" type="button" role="tab" aria-controls="pills-counselor"
					aria-selected="false">Hình ảnh tư vấn</button>
			</li>

		</ul>

		<div class="tab-content" id="pills-tabContent">

			<div class="row">
				<div class="col-md-6">
					<label class="ml-4 text-success">
						<strong> Khách hàng: </strong>&nbsp;&nbsp;
					</label>
					<label for="">
						{{serviceNote.customerID.firstName}}{{serviceNote.customerID.lastName}}
					</label>
				</div>
				<div class="col-md-6">
					<div class="text-right text-success mt-3">
						<label class=" mr-4"><em>{{serviceNote.schedule}}</em></label>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="text-left ml-4">
						<label for="reception">
							<strong>Reception:</strong>&nbsp;&nbsp;
						</label>
						<label for="reception-name">
							<em>{{serviceNote.recept.firstName}}{{serviceNote.recept.lastName}}</em>
						</label>
					</div>
				</div>

				<div class="col-md-6">
					<div class="text-right mr-4">
						<label for="status">
							<strong>Trạng thái:</strong>&nbsp;&nbsp;
						</label>
						<label class="text-danger">
							<em>{{serviceNote.status}}</em>
						</label>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<div class="text-left ml-4">
						<label for="service">
							<strong>Dịch vụ:</strong>&nbsp;&nbsp;
						</label>
						<label for="service-name">
							<em>{{serviceNote.service}}</em>
						</label>
					</div>
				</div>

				<div class="col-md-6">

				</div>
			</div>
			<hr>



			<div class="tab-pane fade show active" id="pills-profile-customer" role="tabpanel"
				aria-labelledby="pills-home-tab">
				<div class="row mt-4">
					<div class="col-md-6">
						<div class="text-left ml-4">
							<label for="status">
								<strong>Bác sĩ: </strong>
							</label>
						</div>
					</div>

					<div class="col-md-6">
						<div class="text-right mr-4">

							<label class="text-primary">
								{{#each serviceNote.performer}}
								<input hidden type="text" name="operatingID[]" value="{{this._id}}">

								<em>{{this.firstName}} {{this.lastName}};</em>
								{{/each}}
							</label>
						</div>
					</div>
				</div>
				<div class="row mt-4">
					<div class="col-md-6">
						<div class="text-left ml-4">
							<label for="service">
								<strong>Y tá:</strong>
							</label>
						</div>
					</div>

					<div class="col-md-6">
						<div class="text-right mr-4">

							<label class="text-primary">
								{{#each serviceNote.nursing}}
								<input hidden type="text" name="operatingID[]" value="{{this._id}}">

								<em>{{this.firstName}} {{this.lastName}};</em>
								{{/each}}
							</label>
						</div>
					</div>
				</div>
				<div class="row mt-4">
					<div class="col-md-6">
						<div class="text-left ml-4">
							<label for="service">
								<strong>Ghi chú:</strong>
							</label>
						</div>
					</div>

					<div class="col-md-6">
						<div class="text-right mr-4">
							{{#each serviceNote.comments}}
							<label class="">
								<em>{{this.comment}}</em>
							</label>
							{{else}}
							<label class="">
								<em>Không có ghi chú</em>
							</label>
							{{/each}}
						</div>
					</div>
				</div>

			</div>
			<div class="tab-pane fade  " id="pills-counselor" role="tabpanel" aria-labelledby="pills-profile-tab">
				<div class="row mt-4">
					{{#each counselors}}
					<div class="col-md-3">
						{{this.img.id}}
					</div>
					{{/each}}
					<div class="col-md-6">
						<div class="text-right mr-4">


						</div>
					</div>
				</div>
			</div>
		</div>
		<hr>
		<div class="row">
			<div class="col-md-6">
				<div class="text-left ml-4">
					<label for="service">
						<strong>Tổng cộng:</strong>&nbsp;&nbsp;
					</label>
					<label for="">
						<em>
							{{serviceNote.price}} VND
						</em>
					</label>
				</div>
			</div>
		</div>
		<div class="text-center">Chưa có dịch vụ cần thực hiện.</div>


	</div>

	<script src="/js/operating/doctor.js"></script>
	{{!--
	<script>

		document.addEventListener('DOMContentLoaded', function () {
			let imagesPreviewBefore = function (input, placeToInsertImagePreview) {
				if (input.files) {
					let filesAmount = input.files.length;
					for (i = 0; i < filesAmount; i++) {
						let reader = new FileReader();
						reader.onload = function (event) {
							$($.parseHTML("<img class='col-md rounded mx-auto d-block'>"))
								.attr("src", event.target.result)
								.appendTo(placeToInsertImagePreview);
						};
						reader.readAsDataURL(input.files[i]);
					}
				}
			};
			var inputMultiFileBefore = document.getElementById('input-multi-files-before');
			inputMultiFileBefore.addEventListener('change', (e) => {
				imagesPreviewBefore(e.target, "div.preview-images-before");
				console.log(e.target.files)
			})


			let imagesPreviewAfter = function (input, placeToInsertImagePreview) {
				if (input.files) {
					let filesAmount = input.files.length;
					for (i = 0; i < filesAmount; i++) {
						let reader = new FileReader();
						reader.onload = function (event) {
							$($.parseHTML("<img class='col-md rounded mx-auto d-block'>"))
								.attr("src", event.target.result)
								.appendTo(placeToInsertImagePreview);
						};
						reader.readAsDataURL(input.files[i]);
					}
				}
			};

			var inputMultiFileAfter = document.getElementById('input-multi-files-after');
			inputMultiFileAfter.addEventListener('change', (e) => {
				imagesPreviewAfter(e.target, "div.preview-images-after");
				console.log(e.target.files)
			})
		});
	</script> --}}